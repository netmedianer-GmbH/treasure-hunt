{"version":3,"sources":["webpack:///./src/components/ReleaseFiles.js","webpack:///./src/pages/install.js"],"names":["ReleaseFiles","useState","releases","setReleases","useEffect","fetch","then","response","json","data","className","assets","map","asset","content_type","href","browser_download_url","name","selectedCss","currentTab","setCurrentTab","patchedHTML","allMarkdownRemark","edges","node","html","replace","Layout","id","onClick","frontmatter","tab_title","dangerouslySetInnerHTML","__html"],"mappings":"4IAmCeA,EAhCM,WAAO,IAAD,MACSC,mBAAS,IAAlCC,EADgB,KACNC,EADM,KAavB,OAVAC,qBAAU,WAKN,OAJAC,MAAM,wEACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIN,EAAYM,MAEvB,eAGR,IAGC,mBAAKC,UAAU,kCACX,kBAAIA,UAAU,iBAAd,+CACA,kBAAIA,UAAU,gBAAd,6BAFJ,UAIQR,EAAS,UAJjB,aAIQ,EAAaS,OAAOC,KAAI,SAAAC,GAAK,MACF,sEAAvBA,EAAMC,cACH,uBAAK,iBAAGC,KAAMF,EAAMG,sBAAuBH,EAAMI,UAE5D,kBAAIP,UAAU,gBAAd,wCARJ,UAUQR,EAAS,UAVjB,aAUQ,EAAaS,OAAOC,KAAI,SAAAC,GAAK,MACF,oBAAvBA,EAAMC,cACH,uBAAK,iBAAGC,KAAMF,EAAMG,sBAAuBH,EAAMI,YCtBlEC,EAAc,4DAEL,sBAAe,IAAZT,EAAW,EAAXA,KAAW,EACWR,mBAAS,GAAtCkB,EADkB,KACNC,EADM,KAOnBC,EAHOZ,EAAKa,kBAAkBC,MAAMJ,GAAYK,KAAKC,KAItDC,QAHM,YAGM,8EACZA,QAHM,iBAGM,mFAEjB,OAAO,YAACC,EAAA,EAAD,KACH,oBAAMjB,UAAU,iBACZ,mBAAKA,UAAU,kCAAiC,mBAAKA,UAAU,4BAC3D,kBAAIA,UAAU,iCAAd,sBACA,uBAASkB,GAAG,QAAQlB,UAAU,SAC1B,mBAAKA,UAAU,YACX,mBAAKA,UAAU,mCACX,sBAAQmB,QAAS,kBAAMT,EAAc,IACjCV,UAAY,4FAA6G,IAAfS,EAAmBD,EAAc,KACzIT,EAAKa,kBAAkBC,MAAM,GAAGC,KAAKM,YAAYC,WAEvD,sBAAQF,QAAS,kBAAMT,EAAc,IACjCV,UAAY,4FAA6G,IAAfS,EAAmBD,EAAc,KACzIT,EAAKa,kBAAkBC,MAAM,GAAGC,KAAKM,YAAYC,WAEvD,sBAAQF,QAAS,kBAAMT,EAAc,IACjCV,UAAY,4FAA6G,IAAfS,EAAmBD,EAAc,KACzIT,EAAKa,kBAAkBC,MAAM,GAAGC,KAAKM,YAAYC,WAEvD,sBAAQF,QAAS,kBAAMT,EAAc,IACjCV,UAAY,4FAA6G,IAAfS,EAAmBD,EAAc,KACzIT,EAAKa,kBAAkBC,MAAM,GAAGC,KAAKM,YAAYC,YAI3D,mBACIrB,UAAU,iCACVsB,wBAAyB,CAAEC,OAAQZ,KAKpB,IAAfF,GACA,YAAC,EAAD","file":"component---src-pages-install-js-7b47c239a799e8e590ce.js","sourcesContent":["//https://api.github.com/repos/netmedianer-GmbH/treasure-hunt/releases\nimport React, { useEffect, useState } from 'react';\n\nconst ReleaseFiles = () => {\n    const [releases, setReleases] = useState({});\n\n    useEffect(() => {\n        fetch(\"https://api.github.com/repos/netmedianer-GmbH/treasure-hunt/releases\")\n            .then(response => response.json())\n            .then(data => setReleases(data));\n\n        return () => {\n            // Clean up the subscription\n        };\n    }, []);\n\n    return (\n        <div className=\"pt-12 px-10 lg:px-24 text-left\">\n            <h2 className=\"text-2xl my-4\">Download the latest release files from here</h2>\n            <h3 className=\"text-xl my-4\">The Microsoft Excel Files</h3>\n            {\n                releases[0]?.assets.map(asset =>\n                    asset.content_type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n                    && <div><a href={asset.browser_download_url}>{asset.name}</a></div>)\n            }\n            <h3 className=\"text-xl my-4\">The PowerApps Canvas App Import File</h3>\n            {\n                releases[0]?.assets.map(asset =>\n                    asset.content_type === \"application/zip\"\n                    && <div><a href={asset.browser_download_url}>{asset.name}</a></div>)\n            }\n        </div>\n    )\n};\n\nexport default ReleaseFiles;","import React, { useState } from 'react';\n\nimport Layout from '../components/layout/Layout';\nimport ReleaseFiles from '../components/ReleaseFiles';\n\nimport { graphql } from 'gatsby';\n\nconst selectedCss = \" text-indigo-500 border-b-2 font-medium border-indigo-600\";\n\nexport default ({ data }) => {\n    const [currentTab, setCurrentTab] = useState(0);\n        \n    // Patchig the generated md-html\n    const html = data.allMarkdownRemark.edges[currentTab].node.html\n    const r1 = /.\\/img\\//g;\n    const r2 = /.\\/img_user\\//g;\n    const patchedHTML = html\n        .replace(r1, \"https://raw.githubusercontent.com/wiki/netmedianer-GmbH/treasure-hunt/img/\")\n        .replace(r2, \"https://raw.githubusercontent.com/wiki/netmedianer-GmbH/treasure-hunt/img_user/\");\n\n    return <Layout>\n        <main className=\"text-gray-900\">\n            <div className=\"container mx-auto px-8 lg:flex\"><div className=\"text-center lg:text-left\">\n                <h1 className=\"pt-20 text-3xl my-4 text-left\">Installation Guide</h1>\n                <section id=\"start\" className=\"py-12\">\n                    <div className=\"bg-white\">\n                        <nav className=\"flex flex-col sm:flex-row px-10\">\n                            <button onClick={() => setCurrentTab(0)}\n                                className={ \"uppercase text-sm text-gray-600 py-4 px-6 block hover:text-indigo-800 focus:outline-none\" + (currentTab === 0 ? selectedCss : \"\") }>\n                                { data.allMarkdownRemark.edges[0].node.frontmatter.tab_title }\n                            </button>\n                            <button onClick={() => setCurrentTab(1)} \n                                className={ \"uppercase text-sm text-gray-600 py-4 px-6 block hover:text-indigo-800 focus:outline-none\" + (currentTab === 1 ? selectedCss : \"\") }>\n                                { data.allMarkdownRemark.edges[1].node.frontmatter.tab_title }\n                            </button>\n                            <button onClick={() => setCurrentTab(2)} \n                                className={ \"uppercase text-sm text-gray-600 py-4 px-6 block hover:text-indigo-800 focus:outline-none\" + (currentTab === 2 ? selectedCss : \"\") }>\n                                { data.allMarkdownRemark.edges[2].node.frontmatter.tab_title }\n                            </button>\n                            <button onClick={() => setCurrentTab(3)} \n                                className={ \"uppercase text-sm text-gray-600 py-4 px-6 block hover:text-indigo-800 focus:outline-none\" + (currentTab === 3 ? selectedCss : \"\") }>\n                                { data.allMarkdownRemark.edges[3].node.frontmatter.tab_title }\n                            </button>\n                        </nav>\n                        \n                        <div\n                            className=\"pt-12 px-10 lg:px-24 text-left\"\n                            dangerouslySetInnerHTML={{ __html: patchedHTML }}>\n                        </div>\n                        {\n                            // On tab 0 we also render the downloadable release files\n                            // via the github api\n                            currentTab === 0 &&\n                            <ReleaseFiles />\n                        }\n                    </div>\n                </section>\n\n            </div></div>\n        </main>\n    </Layout>\n};\n\nexport const query = graphql`\nquery InstallFilesQuery {\n    allMarkdownRemark(sort: {fields: frontmatter___install_step}, filter: {frontmatter: {install_step: {gte: 1}}}) {\n    edges {\n      node {\n        frontmatter {\n          install_step\n          tab_title\n        }\n        fileAbsolutePath\n        html\n      }\n    }\n  }\n  }\n`;"],"sourceRoot":""}